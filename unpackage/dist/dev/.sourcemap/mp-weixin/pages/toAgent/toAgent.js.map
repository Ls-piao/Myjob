{"version":3,"sources":["webpack:///D:/app2/Diandao-Network-mall/main.js","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?f26b","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?662f","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?bb7b","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?c10b","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?57e7","webpack:///D:/app2/Diandao-Network-mall/pages/toAgent/toAgent.vue?6c50"],"names":["createPage","Page","data","phone","uni","getStorage","agentperson","zprice","teamid","methods","toPay","requestPayment","that","parseFloat","console","log","showLoading","title","orderId","randomOrder","price","body","getOrderInfo","orderInfo1","appid","showToast","icon","hideLoading","obj","partnerid","prepayid","package","noncestr","timestamp","sign","orderInfo","JSON","stringify","provider","success","e","switchTab","url","fail","value","i","Math","floor","random","Date","getTime","Promise","resolve","request","method","t_id","result","onLoad","getStorageSync","Number"],"mappings":"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","file":"pages/toAgent/toAgent.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/toAgent/toAgent.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./toAgent.vue?vue&type=template&id=16b305cb&scoped=true&\"\nvar renderjs\nimport script from \"./toAgent.vue?vue&type=script&lang=js&\"\nexport * from \"./toAgent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./toAgent.vue?vue&type=style&index=0&id=16b305cb&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16b305cb\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('16b305cb')) {\n      api.createRecord('16b305cb', component.options)\n    } else {\n      api.reload('16b305cb', component.options)\n    }\n    module.hot.accept(\"./toAgent.vue?vue&type=template&id=16b305cb&scoped=true&\", function () {\n      api.rerender('16b305cb', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app2/Diandao-Network-mall/pages/toAgent/toAgent.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./toAgent.vue?vue&type=template&id=16b305cb&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./toAgent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./toAgent.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tphone: uni.getStorage('phone'),\n\t\t\tagentperson: '',\n\t\t\tzprice:1299,\n\t\t\tteamid:''\n\t\t}\n\t},\n\tmethods: {\n\t\ttoPay() {\n\t\t\t// uni.navigateBack({\n\t\t\t// \tdelta: 1\n\t\t\t// })\n\t\t},\n\t\tasync requestPayment() {\n\t\t\t// 提交订单到后台商家\n\t\t\tvar that = this\n\t\t\t\n\t\t\tif(this.teamid){\n\t\t\tif (parseFloat(this.zprice) != 0.00 && parseFloat(this.zprice) != 0) {\n\t\t\t\tconsole.log('正在支付')\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在支付...'\n\t\t\t\t});\n\t\t\t\t// 传入price,body,订单号（随机生成）\n\t\t\t\t// e.id为支付通道\n\t\t\t\tlet orderId = this.randomOrder(0);\n\t\t\t\tconsole.log(orderId)\n\t\t\t\tlet price = this.zprice\n\t\t\t\tlet body = \"莫等闲-预定支付\";\n\t\t\t\tlet orderInfo1 = await this.getOrderInfo(orderId, price, body);\n\t\t\t\t\n\t\t\n\t\t\n\t\t\t\tif (!orderInfo1.appid) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '推荐人ID有误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// 生成签名支付签名算法\n\t\t\t\tvar obj = {\n\t\t\t\t\tappid: orderInfo1.appid, //id 应用id\n\t\t\t\t\tpartnerid: orderInfo1.partnerid, //商户号 \n\t\t\t\t\tprepayid: orderInfo1.prepayid, //预支付\n\t\t\t\t\tpackage: 'Sign=WXPay',\n\t\t\t\t\tnoncestr: orderInfo1.noncestr,\n\t\t\t\t\ttimestamp: orderInfo1.timestamp, //时间戳\n\t\t\t\t\tsign: orderInfo1.sign\n\t\t\t\t}\n\t\t\t\tlet orderInfo = JSON.stringify(obj)\n\t\t\t\t\n\t\t\t\tuni.requestPayment({\n\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\torderInfo: orderInfo,\n\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// that.dddd = e\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"支付成功!\",\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: 'pages/me/me'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '订单不能为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '推荐人ID不能为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\trandomOrder(value) {\n\t\t\tfor (var i = 0; i < 6; i++) //6位随机数，用以加在时间戳后面。\n\t\t\t{\n\t\t\t\tvalue += Math.floor(Math.random() * 10);\n\t\t\t}\n\t\t\treturn new Date().getTime() + value; //时间戳，用来生成订单号。\n\t\t},\n\t\tgetOrderInfo(orderId, price, body) {\n\t\t\tconsole.log('=============================')\n\t\t\tconsole.log(orderId)\n\t\t\tconsole.log('=============================')\n\t\t\tlet appid = \"\";\n\n\n\n\t\t\tlet url = 'https://ww.0816fc.net/index.php/home/Pay/pay'\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: url,\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\torderId: orderId,\n\t\t\t\t\t\tbody: body,\n\t\t\t\t\t\tprice: this.zprice,\n\t\t\t\t\t\tt_id:this.teamid,\n\t\t\t\t\t\tphone:this.phone\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (result) => {\n\t\t\t\t\t\tconsole.log(result)\n\t\t\t\t\t\tresolve(result.data)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\tif(e.data == 3){\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"推荐人ID有误\",\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(e);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t},\n\tonLoad(){\n\t\tlet phone = uni.getStorageSync('phone')\n\t\tthis.phone = Number(phone)\n\t}\n\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./toAgent.vue?vue&type=style&index=0&id=16b305cb&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./toAgent.vue?vue&type=style&index=0&id=16b305cb&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}