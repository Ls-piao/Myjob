(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/paiduidianchan/paiduidianchan"],{"19f8":function(t,i,n){"use strict";(function(t,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function s(t,i,n,e,a,r,s){try{var o=t[r](s),u=o.value}catch(c){return void n(c)}o.done?i(u):Promise.resolve(u).then(e,a)}function o(t){return function(){var i=this,n=arguments;return new Promise(function(e,a){var r=t.apply(i,n);function o(t){s(r,e,a,o,u,"next",t)}function u(t){s(r,e,a,o,u,"throw",t)}o(void 0)})}}var u={onLoad:function(i){this.shopId=i.id,this.imgUrl=this.$imgUrl;var n=this;console.log(t(this.shopId," at pages\\paiduidianchan\\paiduidianchan.vue:112")),e.request({url:this.$bashUrl+"/index.php/home/Api/store_menu/",method:"POST",data:{id:this.shopId},success:function(i){console.log(t(i," at pages\\paiduidianchan\\paiduidianchan.vue:121")),n.rightNav=i.data.goods,n.leftNav=i.data.type;for(var e=[],a=0;a<n.rightNav.length;a++){var r={showDel:!1,delAnimation:!1,sum:0};e.push(r)}n.rightListSum=e}})},data:function(){return{rightListSum:[],showShoppingCart:!0,shoppingCartAnimation:!1,shoppingCarz:0,shopId:0,showBall:!1,animationY:"",animationX:"",ballY:"",ballX:"",leftNav:[],rightNav:[],curListIndex:0,mainCur:0,listHeight:[],scrollY:"",Did:"",Tid:0,imgUrl:"",zprice:0,goodsList:[],order_id:0,providerList:[],loading:!1,dddd:""}},methods:{submitOrder:function(){console.log(t(11," at pages\\paiduidianchan\\paiduidianchan.vue:170")),this.goodsList.length>0?e.showToast({title:"点餐成功",success:function(t){e.switchTab({url:"../reserve/reserve"})}}):e.showToast({title:"请选择商品",icon:"none"})},delShoppingCard:function(){var t=o(a.default.mark(function t(i){var n=this;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.rightListSum[i].sum-1<=0?(this.rightListSum[i].sum=this.rightListSum[i].sum-1,this.rightListSum[i].delAnimation=!1,this.setDelayTime(100).then(function(){n.rightListSum[i].showDel=!1})):this.rightListSum[i].sum=this.rightListSum[i].sum-1;case 1:case"end":return t.stop()}},t,this)}));function i(i){return t.apply(this,arguments)}return i}(),addShoppingCard:function(i){var n=i.currentTarget.dataset.index;this.goodsList.push(this.rightNav[n].id),this.rightListSum[n].sum=this.rightListSum[n].sum+1,this.rightListSum[n].delAnimation=!0,this.rightListSum[n].showDel=!0;var e=i.detail.x,a=i.detail.y;this.createAnimation(e,a),this.shoppingCarz++,console.log(t(" at pages\\paiduidianchan\\paiduidianchan.vue:214")),this.zprice=(parseFloat(this.zprice)+parseFloat(this.rightNav[n].price)).toFixed(2)},setDelayTime:function(t){return new Promise(function(i,n){setTimeout(function(){i()},t)})},createAnimation:function(t,i){var n=this;e.getSystemInfo({success:function(){var e=o(a.default.mark(function e(r){var s,o,u,c;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=50,o=r.windowHeight-50,u=n.flyX(s,t),c=n.flyY(o,i),n.ballX=t,n.ballY=i,n.showBall=!0,n.setDelayTime(100).then(function(){return n.animationX=u.export(),n.animationY=c.export(),n.setDelayTime(400)}).then(function(){return n.animationX=n.flyX(0,0,0).export(),n.animationY=n.flyY(0,0,0).export(),n.showBall=!1,n.shoppingCartAnimation=!0,n.setDelayTime(400)}).then(function(){n.shoppingCartAnimation=!1});case 8:case"end":return e.stop()}},e,this)}));function r(t){return e.apply(this,arguments)}return r}()})},flyX:function(t,i,n){var a=e.createAnimation({duration:n||400,timingFunction:"linear"});return a.translateX(t-i).step(),a},flyY:function(t,i,n){var a=e.createAnimation({duration:n||400,timingFunction:"ease-in"});return a.translateY(t-i).step(),a},noScroll:function(t){if(this.scrollY=t.detail.scrollTop+20,this.scrollY<0)return this.curListIndex=0,!0;for(var i=0;i<this.listHeight.length-1;i++){var n=this.listHeight[i];this.scrollY>n.start&&this.scrollY<n.end&&(this.curListIndex=i)}},goAnchor:function(t){this.curListIndex=t.currentTarget.dataset.id,this.mainCur=t.currentTarget.dataset.id},calculateHeight:function(){for(var t=this,i=this.rightNav,n=0,a=0;a<i.length;a++){var r=e.createSelectorQuery().in(this);r.select("#main-"+a).boundingClientRect(function(i){var e={};e.start=n,n+=i.height,e.end=n,t.listHeight.push(e)}).exec();var s={showDel:!1,delAnimation:!1,sum:0};this.rightListSum.push(s)}},sign:function(t){}}};i.default=u}).call(this,n("0de9")["default"],n("6e42")["default"])},"49d8":function(t,i,n){"use strict";n.r(i);var e=n("a667"),a=n("a38a");for(var r in a)"default"!==r&&function(t){n.d(i,t,function(){return a[t]})}(r);n("8975");var s,o=n("f0c5"),u=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,"8e9e1452",null,!1,e["a"],s);i["default"]=u.exports},8975:function(t,i,n){"use strict";var e=n("c2ab"),a=n.n(e);a.a},"8a21":function(t,i,n){"use strict";(function(t){n("c2bf"),n("921b");e(n("66fd"));var i=e(n("49d8"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,n("6e42")["createPage"])},a38a:function(t,i,n){"use strict";n.r(i);var e=n("19f8"),a=n.n(e);for(var r in e)"default"!==r&&function(t){n.d(i,t,function(){return e[t]})}(r);i["default"]=a.a},a667:function(t,i,n){"use strict";var e,a=function(){var t=this,i=t.$createElement;t._self._c},r=[];n.d(i,"b",function(){return a}),n.d(i,"c",function(){return r}),n.d(i,"a",function(){return e})},c2ab:function(t,i,n){}},[["8a21","common/runtime","common/vendor"]]]);