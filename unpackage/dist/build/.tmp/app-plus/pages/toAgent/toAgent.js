(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/toAgent/toAgent"],{"1a10":function(t,e,n){"use strict";n.r(e);var o=n("9821"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a},"1c0b":function(t,e,n){"use strict";n.r(e);var o=n("8c16"),a=n("1a10");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("3081");var i,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"a6a993dc",null,!1,o["a"],i);e["default"]=u.exports},3081:function(t,e,n){"use strict";var o=n("82dd"),a=n.n(o);a.a},"5b2a":function(t,e,n){"use strict";(function(t){n("c2bf"),n("921b");o(n("66fd"));var e=o(n("1c0b"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"82dd":function(t,e,n){},"8c16":function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o})},9821:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,a,r,i){try{var c=t[r](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(o,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var r=t.apply(e,n);function c(t){i(r,o,a,c,u,"next",t)}function u(t){i(r,o,a,c,u,"throw",t)}c(void 0)})}}var u={data:function(){return{phone:t.getStorage("phone"),agentperson:"",zprice:1299,teamid:""}},methods:{toPay:function(){},requestPayment:function(){var e=c(a.default.mark(function e(){var n,r,i,c,u,s;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this,!this.teamid){e.next=24;break}if(0==parseFloat(this.zprice)||0==parseFloat(this.zprice)){e.next=21;break}return console.log(o("正在支付"," at pages\\toAgent\\toAgent.vue:43")),t.showLoading({title:"正在支付..."}),n=this.randomOrder(0),console.log(o(n," at pages\\toAgent\\toAgent.vue:50")),r=this.zprice,i="莫等闲-预定支付",e.next=11,this.getOrderInfo(n,r,i);case 11:if(c=e.sent,c.appid){e.next=16;break}return t.showToast({title:"推荐人ID有误",icon:"none"}),t.hideLoading(),e.abrupt("return",!1);case 16:u={appid:c.appid,partnerid:c.partnerid,prepayid:c.prepayid,package:"Sign=WXPay",noncestr:c.noncestr,timestamp:c.timestamp,sign:c.sign},s=JSON.stringify(u),t.requestPayment({provider:"wxpay",orderInfo:s,success:function(e){t.showToast({title:"支付成功!",icon:"none"}),t.switchTab({url:"pages/me/me"})},fail:function(e){t.hideLoading()}}),e.next=22;break;case 21:t.showToast({title:"订单不能为空",icon:"none"});case 22:e.next=25;break;case 24:t.showToast({title:"推荐人ID不能为空",icon:"none"});case 25:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),randomOrder:function(t){for(var e=0;e<6;e++)t+=Math.floor(10*Math.random());return(new Date).getTime()+t},getOrderInfo:function(e,n,a){var r=this;console.log(o("============================="," at pages\\toAgent\\toAgent.vue:117")),console.log(o(e," at pages\\toAgent\\toAgent.vue:118")),console.log(o("============================="," at pages\\toAgent\\toAgent.vue:119"));var i="https://ww.0816fc.net/index.php/home/Pay/pay";return new Promise(function(n){t.request({url:i,method:"POST",data:{orderId:e,body:a,price:r.zprice,t_id:r.teamid,phone:r.phone},success:function(t){console.log(o(t," at pages\\toAgent\\toAgent.vue:137")),n(t.data)},fail:function(e){console.log(o(e," at pages\\toAgent\\toAgent.vue:141")),3!=e.data?n(e):t.showToast({title:"推荐人ID有误",icon:"none"})}})})}},onLoad:function(){var e=t.getStorageSync("phone");this.phone=Number(e)}};e.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["5b2a","common/runtime","common/vendor"]]]);