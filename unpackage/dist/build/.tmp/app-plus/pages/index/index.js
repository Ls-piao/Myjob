(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"17fa":function(t,e,n){"use strict";var o=n("4eae"),i=n.n(o);i.a},"2fb6":function(t,e,n){"use strict";(function(t){n("c2bf"),n("921b");o(n("66fd"));var e=o(n("ed0f"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"4eae":function(t,e,n){},"5aa7":function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("4e8d"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){return Promise.all([n.e("common/vendor"),n.e("components/linzq-citySelect/linzq-citySelect")]).then(n.bind(null,"e910"))},c=function(){return n.e("components/popup-layer/popup-layer").then(n.bind(null,"e1da"))},u=new i.default({key:"IFIBZ-YVHCX-HNP4H-TK34M-35AMT-D2FV4"}),l={components:{citySelect:s,popupLayer:c},mounted:function(){this.$refs.popupRef.close()},onReachBottom:function(){var e=this,n=this;this.page++,t.showLoading({title:"拼命加载中"}),t.request({url:this.$bashUrl+"/index.php/home/Api/home/",method:"POST",data:{type:"all",page:this.page,limit:this.limit},success:function(o){t.hideLoading();var i=0,a=0;t.getLocation({type:"gcj02",geocode:!0,success:function(t){i=t.latitude,a=t.longitude},complete:function(){u.reverseGeocoder({location:{latitude:i,longitude:a},success:function(t){i=t.result.location.lat,a=t.result.location.lng}}),o.data.forEach(function(t,e){t.lat&&t.lng&&(t.distance=n.$dis(i,a,Number(t.lat),Number(t.lng)))}),o.data.length>0?e.dataList=e.dataList.concat(o.data):t.showToast({title:"没有更多数据啦！",icon:"none"})}})}})},data:function(){return{region:"定位中...",indicatorDots:!0,indicatorColor:"#ECECEC",indicatorActiveColor:"#3374FF",autoplay:!0,interval:7e3,duration:800,scrollTop:0,old:{scrollTop:0},dataList:[],imgUrl:"",hotShop:[],current:0,current1:0,a:"item-box",imgList:[{img:"../../static/imgs/213123123.png",xiaobiao:0},{img:"../../static/imgs/213123123.png",xiaobiao:1},{img:"../../static/imgs/213123123.png",xiaobiao:2}],start:0,startY:0,limit:20,page:1,latitude:0,longitude:0}},onLoad:function(){var e=this;e.imgUrl=e.$imgUrl,t.request({url:e.$bashUrl+"/index.php/home/Api/home/",method:"POST",data:{type:"all",page:e.page,limit:e.limit},success:function(n){console.log(o(n," at pages\\index\\index.vue:350"));var i=[],a=0,s=0;t.getLocation({type:"wgs84",geocode:!0,success:function(t){a=t.latitude,s=t.longitude},fail:function(t){},complete:function(){u.reverseGeocoder({location:{latitude:a,longitude:s},success:function(t){a=t.result.location.lat,s=t.result.location.lng}}),n.data.forEach(function(t,n){t.hot<6&&i.push(t),t.lat&&t.lng&&(t.distance=e.$dis(a,s,Number(t.lat),Number(t.lng)))}),e.hotShop=i.slice(0,6),e.dataList=n.data}})}})},methods:{toyaoqing:function(){t.navigateTo({url:"../wallet/wallet"})},rad:function(t){return Math.PI*t/180},totest:function(){t.navigateTo({url:"../count/count"})},oncity:function(){this.$refs.popupRef.show()},back_city:function(e){"no"!==e?(this.region=e.cityName,t.setStorageSync("region",this.region),this.$refs.popupRef.close()):this.$refs.popupRef.close()},region_city:function(e){this.region=e,t.setStorageSync("region",this.region)},openCode:function(){t.scanCode({success:function(t){}})},startx:function(t){t.preventDefault(),this.start=t.changedTouches[0].pageX,this.startY=t.changedTouches[0].pageY},endx:function(t){console.log(o(this.star," at pages\\index\\index.vue:476")),t.preventDefault();var e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY,i=e-this.start,a=n-this.startY;if(console.log(o(i," at pages\\index\\index.vue:482")),console.log(o(a," at pages\\index\\index.vue:483")),Math.abs(i)>Math.abs(a)&&i>0){var s={0:0,1:0,2:1};this.current1=s[this.current1]}else if(Math.abs(i)>Math.abs(a)&&i<0){s={0:1,1:2,2:2};this.current1=s[this.current1]}},scroll:function(t){this.old.scrollTop=t.detail.scrollTop},goTop:function(e){this.scrollTop=this.old.scrollTop,this.$nextTick(function(){this.scrollTop=0}),t.showToast({icon:"none",title:"纵向滚动 scrollTop 值已被修改为 0"})},TogoodsDatils:function(e){var n=e.currentTarget.dataset.id;t.navigateTo({url:"/pages/goods-details/goods-details?id="+n})},ToSearch:function(){t.navigateTo({url:"/pages/search/search"})},ToSelectAddress:function(){t.navigateTo({url:"/pages/select/address"})},Toshoping:function(e){var n=e.currentTarget.dataset.id;t.navigateTo({url:"/pages/shoplist/shoplist?typeid="+n,animationType:"pop-in",animationDuration:200})}}};e.default=l}).call(this,n("6e42")["default"],n("0de9")["default"])},7937:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},"9c09":function(t,e,n){"use strict";n.r(e);var o=n("5aa7"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},ed0f:function(t,e,n){"use strict";n.r(e);var o=n("7937"),i=n("9c09");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("17fa");var s,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports}},[["2fb6","common/runtime","common/vendor"]]]);